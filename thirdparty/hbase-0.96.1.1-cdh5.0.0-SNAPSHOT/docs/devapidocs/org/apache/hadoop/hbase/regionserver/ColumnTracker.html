<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Fri Feb 28 14:11:33 PST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ColumnTracker (HBase 0.96.1.1-cdh5.0.0-SNAPSHOT API)</title>
<meta name="date" content="2014-02-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ColumnTracker (HBase 0.96.1.1-cdh5.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ColumnTracker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnCount.html" title="class in org.apache.hadoop.hbase.regionserver"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/CompactionRequestor.html" title="interface in org.apache.hadoop.hbase.regionserver"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/regionserver/ColumnTracker.html" target="_top">Frames</a></li>
<li><a href="ColumnTracker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.regionserver</div>
<h2 title="Interface ColumnTracker" class="title">Interface ColumnTracker</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.html" title="class in org.apache.hadoop.hbase.regionserver">ExplicitColumnTracker</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.html" title="class in org.apache.hadoop.hbase.regionserver">ScanWildcardColumnTracker</a></dd>
</dl>
<hr>
<br>
<pre>@InterfaceAudience.Private
public interface <span class="strong">ColumnTracker</span></pre>
<div class="block">Implementing classes of this interface will be used for the tracking
 and enforcement of columns and numbers of versions and timeToLive during
 the course of a Get or Scan operation.
 <p>
 Currently there are two different types of Store/Family-level queries.
 <ul><li><a href="../../../../../org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.html" title="class in org.apache.hadoop.hbase.regionserver"><code>ExplicitColumnTracker</code></a> is used when the query specifies
 one or more column qualifiers to return in the family.
 <ul><li><a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.html" title="class in org.apache.hadoop.hbase.regionserver"><code>ScanWildcardColumnTracker</code></a> is used when no columns are
 explicitly specified.
 <p>
 This class is utilized by <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.html" title="class in org.apache.hadoop.hbase.regionserver"><code>ScanQueryMatcher</code></a> mainly through two methods:
 <ul><li><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#checkColumn(byte[], int, int, byte)"><code>checkColumn(byte[], int, int, byte)</code></a> is called when a Put satisfies all other
 conditions of the query.
 <ul><li><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#getNextRowOrNextColumn(byte[], int, int)"><code>getNextRowOrNextColumn(byte[], int, int)</code></a> is called whenever ScanQueryMatcher
 believes that the current column should be skipped (by timestamp, filter etc.)
 <p>
 These two methods returns a
 <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html" title="enum in org.apache.hadoop.hbase.regionserver"><code>ScanQueryMatcher.MatchCode</code></a>
 to define what action should be taken.
 <p>
 This class is NOT thread-safe as queries are never multi-threaded</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html" title="enum in org.apache.hadoop.hbase.regionserver">ScanQueryMatcher.MatchCode</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#checkColumn(byte[], int, int, byte)">checkColumn</a></strong>(byte[]&nbsp;bytes,
           int&nbsp;offset,
           int&nbsp;length,
           byte&nbsp;type)</code>
<div class="block">Checks if the column is present in the list of requested columns by returning the match code
 instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html" title="enum in org.apache.hadoop.hbase.regionserver">ScanQueryMatcher.MatchCode</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#checkVersions(byte[], int, int, long, byte, boolean)">checkVersions</a></strong>(byte[]&nbsp;bytes,
             int&nbsp;offset,
             int&nbsp;length,
             long&nbsp;ttl,
             byte&nbsp;type,
             boolean&nbsp;ignoreCount)</code>
<div class="block">Keeps track of the number of versions for the columns asked for.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#done()">done</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnCount.html" title="class in org.apache.hadoop.hbase.regionserver">ColumnCount</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#getColumnHint()">getColumnHint</a></strong>()</code>
<div class="block">Used by matcher and scan/get to get a hint of the next column
 to seek to after checkColumn() returns SKIP.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html" title="enum in org.apache.hadoop.hbase.regionserver">ScanQueryMatcher.MatchCode</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#getNextRowOrNextColumn(byte[], int, int)">getNextRowOrNextColumn</a></strong>(byte[]&nbsp;bytes,
                      int&nbsp;offset,
                      int&nbsp;qualLength)</code>
<div class="block">Retrieve the MatchCode for the next row or column</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#isDone(long)">isDone</a></strong>(long&nbsp;timestamp)</code>
<div class="block">Give the tracker a chance to declare it's done based on only the timestamp
 to allow an early out.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#reset()">reset</a></strong>()</code>
<div class="block">Resets the Matcher</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="checkColumn(byte[], int, int, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkColumn</h4>
<pre><a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html" title="enum in org.apache.hadoop.hbase.regionserver">ScanQueryMatcher.MatchCode</a>&nbsp;checkColumn(byte[]&nbsp;bytes,
                                     int&nbsp;offset,
                                     int&nbsp;length,
                                     byte&nbsp;type)
                                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Checks if the column is present in the list of requested columns by returning the match code
 instance. It does not check against the number of versions for the columns asked for. To do the
 version check, one has to call <a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#checkVersions(byte[], int, int, long, byte, boolean)"><code>checkVersions(byte[], int, int, long, byte, boolean)</code></a>
 method based on the return type (INCLUDE) of this method. The values that can be returned by
 this method are <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html#INCLUDE"><code>ScanQueryMatcher.MatchCode.INCLUDE</code></a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html#SEEK_NEXT_COL"><code>ScanQueryMatcher.MatchCode.SEEK_NEXT_COL</code></a> and
 <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html#SEEK_NEXT_ROW"><code>ScanQueryMatcher.MatchCode.SEEK_NEXT_ROW</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bytes</code> - </dd><dd><code>offset</code> - </dd><dd><code>length</code> - </dd><dd><code>type</code> - The type of the KeyValue</dd>
<dt><span class="strong">Returns:</span></dt><dd>The match code instance.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case there is an internal consistency problem caused by a data
           corruption.</dd></dl>
</li>
</ul>
<a name="checkVersions(byte[], int, int, long, byte, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkVersions</h4>
<pre><a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html" title="enum in org.apache.hadoop.hbase.regionserver">ScanQueryMatcher.MatchCode</a>&nbsp;checkVersions(byte[]&nbsp;bytes,
                                       int&nbsp;offset,
                                       int&nbsp;length,
                                       long&nbsp;ttl,
                                       byte&nbsp;type,
                                       boolean&nbsp;ignoreCount)
                                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Keeps track of the number of versions for the columns asked for. It assumes that the user has
 already checked if the keyvalue needs to be included by calling the
 <a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#checkColumn(byte[], int, int, byte)"><code>checkColumn(byte[], int, int, byte)</code></a> method. The enum values returned by this method
 are <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html#SKIP"><code>ScanQueryMatcher.MatchCode.SKIP</code></a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html#INCLUDE"><code>ScanQueryMatcher.MatchCode.INCLUDE</code></a>,
 <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html#INCLUDE_AND_SEEK_NEXT_COL"><code>ScanQueryMatcher.MatchCode.INCLUDE_AND_SEEK_NEXT_COL</code></a> and <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html#INCLUDE_AND_SEEK_NEXT_ROW"><code>ScanQueryMatcher.MatchCode.INCLUDE_AND_SEEK_NEXT_ROW</code></a>.
 Implementations which include all the columns could just return <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html#INCLUDE"><code>ScanQueryMatcher.MatchCode.INCLUDE</code></a> in
 the <a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnTracker.html#checkColumn(byte[], int, int, byte)"><code>checkColumn(byte[], int, int, byte)</code></a> method and perform all the operations in this
 checkVersions method.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>type</code> - the type of the key value (Put/Delete)</dd><dd><code>ttl</code> - The timeToLive to enforce.</dd><dd><code>ignoreCount</code> - indicates if the KV needs to be excluded while counting (used during
          compactions. We only count KV's that are older than all the scanners' read points.)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the scan query matcher match code instance</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case there is an internal consistency problem caused by a data
           corruption.</dd></dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>void&nbsp;reset()</pre>
<div class="block">Resets the Matcher</div>
</li>
</ul>
<a name="done()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>done</h4>
<pre>boolean&nbsp;done()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> when done.</dd></dl>
</li>
</ul>
<a name="getColumnHint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getColumnHint</h4>
<pre><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnCount.html" title="class in org.apache.hadoop.hbase.regionserver">ColumnCount</a>&nbsp;getColumnHint()</pre>
<div class="block">Used by matcher and scan/get to get a hint of the next column
 to seek to after checkColumn() returns SKIP.  Returns the next interesting
 column we want, or NULL there is none (wildcard scanner).

 Implementations aren't required to return anything useful unless the most recent
 call was to checkColumn() and the return code was SKIP.  This is pretty implementation
 detail-y, but optimizations are like that.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>null, or a ColumnCount that we should seek to</dd></dl>
</li>
</ul>
<a name="getNextRowOrNextColumn(byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextRowOrNextColumn</h4>
<pre><a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.MatchCode.html" title="enum in org.apache.hadoop.hbase.regionserver">ScanQueryMatcher.MatchCode</a>&nbsp;getNextRowOrNextColumn(byte[]&nbsp;bytes,
                                                int&nbsp;offset,
                                                int&nbsp;qualLength)</pre>
<div class="block">Retrieve the MatchCode for the next row or column</div>
</li>
</ul>
<a name="isDone(long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isDone</h4>
<pre>boolean&nbsp;isDone(long&nbsp;timestamp)</pre>
<div class="block">Give the tracker a chance to declare it's done based on only the timestamp
 to allow an early out.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timestamp</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> to early out based on timestamp.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ColumnTracker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/ColumnCount.html" title="class in org.apache.hadoop.hbase.regionserver"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/CompactionRequestor.html" title="interface in org.apache.hadoop.hbase.regionserver"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/regionserver/ColumnTracker.html" target="_top">Frames</a></li>
<li><a href="ColumnTracker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.cloudera.com">Cloudera</a>. All rights reserved.</small></p>
</body>
</html>
