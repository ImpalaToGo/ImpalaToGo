<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Fri Feb 28 14:14:18 PST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>FSUtils (HBase 0.96.1.1-cdh5.0.0-SNAPSHOT API)</title>
<meta name="date" content="2014-02-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FSUtils (HBase 0.96.1.1-cdh5.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FSUtils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html" title="class in org.apache.hadoop.hbase.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.BlackListDirFilter.html" title="class in org.apache.hadoop.hbase.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/util/FSUtils.html" target="_top">Frames</a></li>
<li><a href="FSUtils.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.util</div>
<h2 title="Class FSUtils" class="title">Class FSUtils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.util.FSUtils</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../org/apache/hadoop/hbase/util/FSHDFSUtils.html" title="class in org.apache.hadoop.hbase.util">FSHDFSUtils</a>, <a href="../../../../../org/apache/hadoop/hbase/util/FSMapRUtils.html" title="class in org.apache.hadoop.hbase.util">FSMapRUtils</a></dd>
</dl>
<hr>
<br>
<pre>@InterfaceAudience.Private
public abstract class <span class="strong">FSUtils</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Utility methods for interacting with the underlying file system.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.BlackListDirFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.BlackListDirFilter</a></strong></code>
<div class="block">Directory filter that doesn't include any of the directories in the specified blacklist</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.DirFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.DirFilter</a></strong></code>
<div class="block">A <code>PathFilter</code> that only allows directories.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.FamilyDirFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.FamilyDirFilter</a></strong></code>
<div class="block">Filter for all dirs that are legal column family names.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.HFileFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.HFileFilter</a></strong></code>
<div class="block">Filter for HFiles that excludes reference files.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.RegionDirFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.RegionDirFilter</a></strong></code>
<div class="block">Filter for all dirs that don't start with '.'</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.UserTableDirFilter.html" title="class in org.apache.hadoop.hbase.util">FSUtils.UserTableDirFilter</a></strong></code>
<div class="block">A <code>PathFilter</code> that returns usertable directories.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#WINDOWS">WINDOWS</a></strong></code>
<div class="block">Set to true on Windows platforms</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#FSUtils()">FSUtils</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkAccess(org.apache.hadoop.security.UserGroupInformation, org.apache.hadoop.fs.FileStatus, org.apache.hadoop.fs.permission.FsAction)">checkAccess</a></strong>(org.apache.hadoop.security.UserGroupInformation&nbsp;ugi,
           org.apache.hadoop.fs.FileStatus&nbsp;file,
           org.apache.hadoop.fs.permission.FsAction&nbsp;action)</code>
<div class="block">Throw an exception if an action is not permitted by a user on a file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkClusterIdExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, int)">checkClusterIdExists</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                    org.apache.hadoop.fs.Path&nbsp;rootdir,
                    int&nbsp;wait)</code>
<div class="block">Checks that a cluster ID file exists in the HBase root directory</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkDfsSafeMode(org.apache.hadoop.conf.Configuration)">checkDfsSafeMode</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Check whether dfs is in safemode.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkFileSystemAvailable(org.apache.hadoop.fs.FileSystem)">checkFileSystemAvailable</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs)</code>
<div class="block">Checks to see if the specified file system is available</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkShortCircuitReadBufferSize(org.apache.hadoop.conf.Configuration)">checkShortCircuitReadBufferSize</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Check if short circuit read buffer size is set and if not, set it to hbase value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean)">checkVersion</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
            org.apache.hadoop.fs.Path&nbsp;rootdir,
            boolean&nbsp;message)</code>
<div class="block">Verifies current version of file system</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#checkVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean, int, int)">checkVersion</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
            org.apache.hadoop.fs.Path&nbsp;rootdir,
            boolean&nbsp;message,
            int&nbsp;wait,
            int&nbsp;retries)</code>
<div class="block">Verifies current version of file system</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/HDFSBlocksDistribution.html" title="class in org.apache.hadoop.hbase">HDFSBlocksDistribution</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#computeHDFSBlocksDistribution(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.FileStatus, long, long)">computeHDFSBlocksDistribution</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                             org.apache.hadoop.fs.FileStatus&nbsp;status,
                             long&nbsp;start,
                             long&nbsp;length)</code>
<div class="block">Compute HDFS blocks distribution of a given file, or a portion of the file</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.FSDataOutputStream</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#create(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.permission.FsPermission, boolean)">create</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
      org.apache.hadoop.fs.Path&nbsp;path,
      org.apache.hadoop.fs.permission.FsPermission&nbsp;perm,
      boolean&nbsp;overwrite)</code>
<div class="block">Create the specified file on the filesystem.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.FSDataOutputStream</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#create(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.permission.FsPermission, java.net.InetSocketAddress[])">create</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
      org.apache.hadoop.fs.Path&nbsp;path,
      org.apache.hadoop.fs.permission.FsPermission&nbsp;perm,
      <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>[]&nbsp;favoredNodes)</code>
<div class="block">Create the specified file on the filesystem.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#delete(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean)">delete</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
      org.apache.hadoop.fs.Path&nbsp;path,
      boolean&nbsp;recursive)</code>
<div class="block">Calls fs.delete() and returns the value returned by the fs.delete()</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#deleteDirectory(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">deleteDirectory</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
               org.apache.hadoop.fs.Path&nbsp;dir)</code>
<div class="block">Delete if exists.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/ClusterId.html" title="class in org.apache.hadoop.hbase">ClusterId</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getClusterId(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getClusterId</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
            org.apache.hadoop.fs.Path&nbsp;rootdir)</code>
<div class="block">Returns the value of the unique cluster ID stored for this HBase instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.FileSystem</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getCurrentFileSystem(org.apache.hadoop.conf.Configuration)">getCurrentFileSystem</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getDefaultBlockSize(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getDefaultBlockSize</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                   org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block">Return the number of bytes that large input files should be optimally
 be split into to minimize i/o time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getDefaultBufferSize(org.apache.hadoop.fs.FileSystem)">getDefaultBufferSize</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs)</code>
<div class="block">Returns the default buffer size to use during writes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static short</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getDefaultReplication(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getDefaultReplication</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                     org.apache.hadoop.fs.Path&nbsp;path)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getFamilyDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getFamilyDirs</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
             org.apache.hadoop.fs.Path&nbsp;regionDir)</code>
<div class="block">Given a particular region dir, return all the familydirs inside it</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.permission.FsPermission</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getFilePermissions(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.conf.Configuration, java.lang.String)">getFilePermissions</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.conf.Configuration&nbsp;conf,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;permssionConfKey)</code>
<div class="block">Get the file permissions specified in the configuration, if they are
 enabled.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html" title="class in org.apache.hadoop.hbase.util">FSUtils</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getInstance(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.conf.Configuration)">getInstance</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
           org.apache.hadoop.conf.Configuration&nbsp;conf)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getLocalTableDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getLocalTableDirs</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                 org.apache.hadoop.fs.Path&nbsp;rootdir)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getNamespaceDir(org.apache.hadoop.fs.Path, java.lang.String)">getNamespaceDir</a></strong>(org.apache.hadoop.fs.Path&nbsp;rootdir,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;namespace)</code>
<div class="block">Returns the <code>Path</code> object representing
 the namespace directory under path rootdir</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getPath(org.apache.hadoop.fs.Path)">getPath</a></strong>(org.apache.hadoop.fs.Path&nbsp;p)</code>
<div class="block">Return the 'path' component of a Path.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang">Float</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getRegionDegreeLocalityMappingFromFS(org.apache.hadoop.conf.Configuration)">getRegionDegreeLocalityMappingFromFS</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">This function is to scan the root path of the file system to get the
 degree of locality for each region on each of the servers having at least
 one block of that region.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang">Float</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getRegionDegreeLocalityMappingFromFS(org.apache.hadoop.conf.Configuration, java.lang.String, int)">getRegionDegreeLocalityMappingFromFS</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;desiredTable,
                                    int&nbsp;threadPoolSize)</code>
<div class="block">This function is to scan the root path of the file system to get the
 degree of locality for each region on each of the servers having at least
 one block of that region.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getRegionDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getRegionDirs</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
             org.apache.hadoop.fs.Path&nbsp;tableDir)</code>
<div class="block">Given a particular table dir, return all the regiondirs inside it, excluding files such as
 .tableinfo</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getRootDir(org.apache.hadoop.conf.Configuration)">getRootDir</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;c)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableDir(org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName)">getTableDir</a></strong>(org.apache.hadoop.fs.Path&nbsp;rootdir,
           <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>
<div class="block">Returns the <code>Path</code> object representing the table directory under
 path rootdir</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getTableDirs</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
            org.apache.hadoop.fs.Path&nbsp;rootdir)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableFragmentation(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getTableFragmentation</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                     org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)</code>
<div class="block">Runs through the HBase rootdir and checks how many stores for each table
 have more than one file in them.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableFragmentation(org.apache.hadoop.hbase.master.HMaster)">getTableFragmentation</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/HMaster.html" title="class in org.apache.hadoop.hbase.master">HMaster</a>&nbsp;master)</code>
<div class="block">Runs through the HBase rootdir and checks how many stores for each table
 have more than one file in them.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableName(org.apache.hadoop.fs.Path)">getTableName</a></strong>(org.apache.hadoop.fs.Path&nbsp;tablePath)</code>
<div class="block">Returns the <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase"><code>TableName</code></a> object representing
 the table directory under
 path rootdir</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.apache.hadoop.fs.Path&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableStoreFilePathMap(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getTableStoreFilePathMap</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                        org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)</code>
<div class="block">Runs through the HBase rootdir and creates a reverse lookup map for
 table StoreFile names to the full Path.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.apache.hadoop.fs.Path&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTableStoreFilePathMap(java.util.Map, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName)">getTableStoreFilePathMap</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.apache.hadoop.fs.Path&gt;&nbsp;map,
                        org.apache.hadoop.fs.FileSystem&nbsp;fs,
                        org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                        <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</code>
<div class="block">Runs through the HBase rootdir/tablename and creates a reverse lookup map for
 table StoreFile names to the full Path.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getTotalTableFragmentation(org.apache.hadoop.hbase.master.HMaster)">getTotalTableFragmentation</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/master/HMaster.html" title="class in org.apache.hadoop.hbase.master">HMaster</a>&nbsp;master)</code>
<div class="block">Returns the total overall fragmentation percentage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#getVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">getVersion</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
          org.apache.hadoop.fs.Path&nbsp;rootdir)</code>
<div class="block">Verifies current version of file system</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isAppendSupported(org.apache.hadoop.conf.Configuration)">isAppendSupported</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Heuristic to determine whether is safe or not to open a file for append
 Looks both for dfs.support.append and use reflection to search
 for SequenceFile.Writer.syncFs() or FSDataOutputStream.hflush()</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">isExists</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
        org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block">Calls fs.exists().</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isHDFS(org.apache.hadoop.conf.Configuration)">isHDFS</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isMajorCompacted(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">isMajorCompacted</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)</code>
<div class="block">Runs through the hbase rootdir and checks all stores have only
 one file in them -- that is, they've been major compacted.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isMajorCompactedPre020(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">isMajorCompactedPre020</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                      org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)</code>
<div class="block">Runs through the hbase rootdir and checks all stores have only
 one file in them -- that is, they've been major compacted.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isMatchingTail(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path)">isMatchingTail</a></strong>(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
              org.apache.hadoop.fs.Path&nbsp;pathTail)</code>
<div class="block">Compare path component of the Path URI; e.g.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isMatchingTail(org.apache.hadoop.fs.Path, java.lang.String)">isMatchingTail</a></strong>(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pathTail)</code>
<div class="block">Compare path component of the Path URI; e.g.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isPre020FileLayout(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">isPre020FileLayout</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)</code>
<div class="block">Expects to find -ROOT- directory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isRecoveredEdits(org.apache.hadoop.fs.Path)">isRecoveredEdits</a></strong>(org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block">Checks if the given path is the one with 'recovered.edits' dir.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isStartingWithPath(org.apache.hadoop.fs.Path, java.lang.String)">isStartingWithPath</a></strong>(org.apache.hadoop.fs.Path&nbsp;rootPath,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">Compare of path component.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.FileStatus[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#listStatus(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">listStatus</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
          org.apache.hadoop.fs.Path&nbsp;dir)</code>
<div class="block">Calls fs.listStatus() and treats FileNotFoundException as non-fatal
 This would accommodates differences between hadoop versions</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.FileStatus[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#listStatus(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.PathFilter)">listStatus</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
          org.apache.hadoop.fs.Path&nbsp;dir,
          org.apache.hadoop.fs.PathFilter&nbsp;filter)</code>
<div class="block">Calls fs.listStatus() and treats FileNotFoundException as non-fatal
 This accommodates differences between hadoop versions, where hadoop 1
 does not throw a FileNotFoundException, and return an empty FileStatus[]
 while Hadoop 2 will throw FileNotFoundException.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#logFileSystemState(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.commons.logging.Log)">logFileSystemState</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.fs.Path&nbsp;root,
                  org.apache.commons.logging.Log&nbsp;LOG)</code>
<div class="block">Log the current state of the filesystem from a certain root directory</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#metaRegionExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">metaRegionExists</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                org.apache.hadoop.fs.Path&nbsp;rootdir)</code>
<div class="block">Checks if meta region exists</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#recoverFileLease(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.util.CancelableProgressable)">recoverFileLease</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                org.apache.hadoop.fs.Path&nbsp;p,
                org.apache.hadoop.conf.Configuration&nbsp;conf,
                <a href="../../../../../org/apache/hadoop/hbase/util/CancelableProgressable.html" title="interface in org.apache.hadoop.hbase.util">CancelableProgressable</a>&nbsp;reporter)</code>
<div class="block">Recover file lease.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#removeRootPath(org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration)">removeRootPath</a></strong>(org.apache.hadoop.fs.Path&nbsp;path,
              org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Checks for the presence of the root path (using the provided conf object) in the given path.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#renameAndSetModifyTime(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path)">renameAndSetModifyTime</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                      org.apache.hadoop.fs.Path&nbsp;src,
                      org.apache.hadoop.fs.Path&nbsp;dest)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setClusterId(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.ClusterId, int)">setClusterId</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
            org.apache.hadoop.fs.Path&nbsp;rootdir,
            <a href="../../../../../org/apache/hadoop/hbase/ClusterId.html" title="class in org.apache.hadoop.hbase">ClusterId</a>&nbsp;clusterId,
            int&nbsp;wait)</code>
<div class="block">Writes a new unique identifier for this cluster to the "hbase.id" file
 in the HBase root directory</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setFsDefault(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.Path)">setFsDefault</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;c,
            org.apache.hadoop.fs.Path&nbsp;root)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setRootDir(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.Path)">setRootDir</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;c,
          org.apache.hadoop.fs.Path&nbsp;root)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setupShortCircuitRead(org.apache.hadoop.conf.Configuration)">setupShortCircuitRead</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Do our short circuit read setup.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">setVersion</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
          org.apache.hadoop.fs.Path&nbsp;rootdir)</code>
<div class="block">Sets version of file system</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, int, int)">setVersion</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
          org.apache.hadoop.fs.Path&nbsp;rootdir,
          int&nbsp;wait,
          int&nbsp;retries)</code>
<div class="block">Sets version of file system</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, java.lang.String, int, int)">setVersion</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
          org.apache.hadoop.fs.Path&nbsp;rootdir,
          <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;version,
          int&nbsp;wait,
          int&nbsp;retries)</code>
<div class="block">Sets version of file system</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#validateRootPath(org.apache.hadoop.fs.Path)">validateRootPath</a></strong>(org.apache.hadoop.fs.Path&nbsp;root)</code>
<div class="block">Verifies root directory path is a valid URI with a scheme</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#waitOnSafeMode(org.apache.hadoop.conf.Configuration, long)">waitOnSafeMode</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
              long&nbsp;wait)</code>
<div class="block">If DFS, check safe mode and if so, wait until we clear it.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="WINDOWS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WINDOWS</h4>
<pre>public static final&nbsp;boolean WINDOWS</pre>
<div class="block">Set to true on Windows platforms</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FSUtils()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FSUtils</h4>
<pre>protected&nbsp;FSUtils()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isStartingWithPath(org.apache.hadoop.fs.Path, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStartingWithPath</h4>
<pre>public static&nbsp;boolean&nbsp;isStartingWithPath(org.apache.hadoop.fs.Path&nbsp;rootPath,
                         <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</pre>
<div class="block">Compare of path component. Does not consider schema; i.e. if schemas different but <code>path
 <code> starts with <code>rootPath<code>, then the function returns true</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rootPath</code> - </dd><dd><code>path</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>True if <code>path</code> starts with <code>rootPath</code></dd></dl>
</li>
</ul>
<a name="isMatchingTail(org.apache.hadoop.fs.Path, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMatchingTail</h4>
<pre>public static&nbsp;boolean&nbsp;isMatchingTail(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
                     <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pathTail)</pre>
<div class="block">Compare path component of the Path URI; e.g. if hdfs://a/b/c and /a/b/c, it will compare the
 '/a/b/c' part. Does not consider schema; i.e. if schemas different but path or subpath matches,
 the two will equate.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pathToSearch</code> - Path we will be trying to match.</dd><dd><code>pathTail</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>True if <code>pathTail</code> is tail on the path of <code>pathToSearch</code></dd></dl>
</li>
</ul>
<a name="isMatchingTail(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMatchingTail</h4>
<pre>public static&nbsp;boolean&nbsp;isMatchingTail(org.apache.hadoop.fs.Path&nbsp;pathToSearch,
                     org.apache.hadoop.fs.Path&nbsp;pathTail)</pre>
<div class="block">Compare path component of the Path URI; e.g. if hdfs://a/b/c and /a/b/c, it will compare the
 '/a/b/c' part. If you passed in 'hdfs://a/b/c and b/c, it would return true.  Does not consider
 schema; i.e. if schemas different but path or subpath matches, the two will equate.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pathToSearch</code> - Path we will be trying to match.</dd><dd><code>pathTail</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>True if <code>pathTail</code> is tail on the path of <code>pathToSearch</code></dd></dl>
</li>
</ul>
<a name="getInstance(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html" title="class in org.apache.hadoop.hbase.util">FSUtils</a>&nbsp;getInstance(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.conf.Configuration&nbsp;conf)</pre>
</li>
</ul>
<a name="deleteDirectory(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteDirectory</h4>
<pre>public static&nbsp;boolean&nbsp;deleteDirectory(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                      org.apache.hadoop.fs.Path&nbsp;dir)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Delete if exists.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem object</dd><dd><code>dir</code> - directory to delete</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if deleted <code>dir</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="getDefaultBlockSize(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultBlockSize</h4>
<pre>public static&nbsp;long&nbsp;getDefaultBlockSize(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                       org.apache.hadoop.fs.Path&nbsp;path)
                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Return the number of bytes that large input files should be optimally
 be split into to minimize i/o time.

 use reflection to search for getDefaultBlockSize(Path f)
 if the method doesn't exist, fall back to using getDefaultBlockSize()</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem object</dd>
<dt><span class="strong">Returns:</span></dt><dd>the default block size for the path's filesystem</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="getDefaultReplication(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultReplication</h4>
<pre>public static&nbsp;short&nbsp;getDefaultReplication(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                          org.apache.hadoop.fs.Path&nbsp;path)
                                   throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getDefaultBufferSize(org.apache.hadoop.fs.FileSystem)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultBufferSize</h4>
<pre>public static&nbsp;int&nbsp;getDefaultBufferSize(org.apache.hadoop.fs.FileSystem&nbsp;fs)</pre>
<div class="block">Returns the default buffer size to use during writes.

 The size of the buffer should probably be a multiple of hardware
 page size (4096 on Intel x86), and it determines how much data is
 buffered during read and write operations.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem object</dd>
<dt><span class="strong">Returns:</span></dt><dd>default buffer size to use during writes</dd></dl>
</li>
</ul>
<a name="create(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.permission.FsPermission, java.net.InetSocketAddress[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.FSDataOutputStream&nbsp;create(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                             org.apache.hadoop.fs.Path&nbsp;path,
                                             org.apache.hadoop.fs.permission.FsPermission&nbsp;perm,
                                             <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>[]&nbsp;favoredNodes)
                                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create the specified file on the filesystem. By default, this will:
 <ol>
 <li>overwrite the file if it exists</li>
 <li>apply the umask in the configuration (if it is enabled)</li>
 <li>use the fs configured buffer size (or 4096 if not set)</li>
 <li>use the default replication</li>
 <li>use the default block size</li>
 <li>not track progress</li>
 </ol></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - <code>FileSystem</code> on which to write the file</dd><dd><code>path</code> - <code>Path</code> to the file to write</dd><dd><code>perm</code> - permissions</dd><dd><code>favoredNodes</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>output stream to the created file</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the file cannot be created</dd></dl>
</li>
</ul>
<a name="create(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.permission.FsPermission, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.FSDataOutputStream&nbsp;create(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                             org.apache.hadoop.fs.Path&nbsp;path,
                                             org.apache.hadoop.fs.permission.FsPermission&nbsp;perm,
                                             boolean&nbsp;overwrite)
                                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create the specified file on the filesystem. By default, this will:
 <ol>
 <li>apply the umask in the configuration (if it is enabled)</li>
 <li>use the fs configured buffer size (or 4096 if not set)</li>
 <li>use the default replication</li>
 <li>use the default block size</li>
 <li>not track progress</li>
 </ol></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - <code>FileSystem</code> on which to write the file</dd><dd><code>path</code> - <code>Path</code> to the file to write</dd><dd><code>perm</code> - </dd><dd><code>overwrite</code> - Whether or not the created file should be overwritten.</dd>
<dt><span class="strong">Returns:</span></dt><dd>output stream to the created file</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the file cannot be created</dd></dl>
</li>
</ul>
<a name="getFilePermissions(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.conf.Configuration, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFilePermissions</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.permission.FsPermission&nbsp;getFilePermissions(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                              org.apache.hadoop.conf.Configuration&nbsp;conf,
                                                              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;permssionConfKey)</pre>
<div class="block">Get the file permissions specified in the configuration, if they are
 enabled.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem that the file will be created on.</dd><dd><code>conf</code> - configuration to read for determining if permissions are
          enabled and which to use</dd><dd><code>permssionConfKey</code> - property key in the configuration to use when
          finding the permission</dd>
<dt><span class="strong">Returns:</span></dt><dd>the permission to use when creating a new file on the fs. If
         special permissions are not specified in the configuration, then
         the default permissions on the the fs will be returned.</dd></dl>
</li>
</ul>
<a name="checkFileSystemAvailable(org.apache.hadoop.fs.FileSystem)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkFileSystemAvailable</h4>
<pre>public static&nbsp;void&nbsp;checkFileSystemAvailable(org.apache.hadoop.fs.FileSystem&nbsp;fs)
                                     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Checks to see if the specified file system is available</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="checkDfsSafeMode(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDfsSafeMode</h4>
<pre>public static&nbsp;void&nbsp;checkDfsSafeMode(org.apache.hadoop.conf.Configuration&nbsp;conf)
                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Check whether dfs is in safemode.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersion</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getVersion(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                org.apache.hadoop.fs.Path&nbsp;rootdir)
                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                <a href="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</a></pre>
<div class="block">Verifies current version of file system</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem object</dd><dd><code>rootdir</code> - root hbase directory</dd>
<dt><span class="strong">Returns:</span></dt><dd>null if no version file exists, version string otherwise.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</a></code></dd></dl>
</li>
</ul>
<a name="checkVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkVersion</h4>
<pre>public static&nbsp;void&nbsp;checkVersion(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                org.apache.hadoop.fs.Path&nbsp;rootdir,
                boolean&nbsp;message)
                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                <a href="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</a></pre>
<div class="block">Verifies current version of file system</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - file system</dd><dd><code>rootdir</code> - root directory of HBase installation</dd><dd><code>message</code> - if true, issues a message on System.out</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</a></code></dd></dl>
</li>
</ul>
<a name="checkVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkVersion</h4>
<pre>public static&nbsp;void&nbsp;checkVersion(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                org.apache.hadoop.fs.Path&nbsp;rootdir,
                boolean&nbsp;message,
                int&nbsp;wait,
                int&nbsp;retries)
                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                <a href="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</a></pre>
<div class="block">Verifies current version of file system</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - file system</dd><dd><code>rootdir</code> - root directory of HBase installation</dd><dd><code>message</code> - if true, issues a message on System.out</dd><dd><code>wait</code> - wait interval</dd><dd><code>retries</code> - number of times to retry</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/exceptions/DeserializationException.html" title="class in org.apache.hadoop.hbase.exceptions">DeserializationException</a></code></dd></dl>
</li>
</ul>
<a name="setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVersion</h4>
<pre>public static&nbsp;void&nbsp;setVersion(org.apache.hadoop.fs.FileSystem&nbsp;fs,
              org.apache.hadoop.fs.Path&nbsp;rootdir)
                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Sets version of file system</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem object</dd><dd><code>rootdir</code> - hbase root</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVersion</h4>
<pre>public static&nbsp;void&nbsp;setVersion(org.apache.hadoop.fs.FileSystem&nbsp;fs,
              org.apache.hadoop.fs.Path&nbsp;rootdir,
              int&nbsp;wait,
              int&nbsp;retries)
                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Sets version of file system</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem object</dd><dd><code>rootdir</code> - hbase root</dd><dd><code>wait</code> - time to wait for retry</dd><dd><code>retries</code> - number of times to retry before failing</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="setVersion(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, java.lang.String, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVersion</h4>
<pre>public static&nbsp;void&nbsp;setVersion(org.apache.hadoop.fs.FileSystem&nbsp;fs,
              org.apache.hadoop.fs.Path&nbsp;rootdir,
              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;version,
              int&nbsp;wait,
              int&nbsp;retries)
                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Sets version of file system</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem object</dd><dd><code>rootdir</code> - hbase root directory</dd><dd><code>version</code> - version to set</dd><dd><code>wait</code> - time to wait for retry</dd><dd><code>retries</code> - number of times to retry before throwing an IOException</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="checkClusterIdExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkClusterIdExists</h4>
<pre>public static&nbsp;boolean&nbsp;checkClusterIdExists(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                           org.apache.hadoop.fs.Path&nbsp;rootdir,
                           int&nbsp;wait)
                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Checks that a cluster ID file exists in the HBase root directory</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - the root directory FileSystem</dd><dd><code>rootdir</code> - the HBase root directory in HDFS</dd><dd><code>wait</code> - how long to wait between retries</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the file exists, otherwise <code>false</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if checking the FileSystem fails</dd></dl>
</li>
</ul>
<a name="getClusterId(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClusterId</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ClusterId.html" title="class in org.apache.hadoop.hbase">ClusterId</a>&nbsp;getClusterId(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                     org.apache.hadoop.fs.Path&nbsp;rootdir)
                              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the value of the unique cluster ID stored for this HBase instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - the root directory FileSystem</dd><dd><code>rootdir</code> - the path to the HBase root directory</dd>
<dt><span class="strong">Returns:</span></dt><dd>the unique cluster identifier</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if reading the cluster ID file fails</dd></dl>
</li>
</ul>
<a name="setClusterId(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.ClusterId, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClusterId</h4>
<pre>public static&nbsp;void&nbsp;setClusterId(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                org.apache.hadoop.fs.Path&nbsp;rootdir,
                <a href="../../../../../org/apache/hadoop/hbase/ClusterId.html" title="class in org.apache.hadoop.hbase">ClusterId</a>&nbsp;clusterId,
                int&nbsp;wait)
                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Writes a new unique identifier for this cluster to the "hbase.id" file
 in the HBase root directory</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - the root directory FileSystem</dd><dd><code>rootdir</code> - the path to the HBase root directory</dd><dd><code>clusterId</code> - the unique identifier to store</dd><dd><code>wait</code> - how long (in milliseconds) to wait between retries</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if writing to the FileSystem fails and no wait value</dd></dl>
</li>
</ul>
<a name="validateRootPath(org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateRootPath</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.Path&nbsp;validateRootPath(org.apache.hadoop.fs.Path&nbsp;root)
                                                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Verifies root directory path is a valid URI with a scheme</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>root</code> - root directory path</dd>
<dt><span class="strong">Returns:</span></dt><dd>Passed <code>root</code> argument.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if not a valid URI with a scheme</dd></dl>
</li>
</ul>
<a name="removeRootPath(org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeRootPath</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;removeRootPath(org.apache.hadoop.fs.Path&nbsp;path,
                    org.apache.hadoop.conf.Configuration&nbsp;conf)
                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Checks for the presence of the root path (using the provided conf object) in the given path. If
 it exists, this method removes it and returns the String representation of remaining relative path.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - </dd><dd><code>conf</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>String representation of the remaining relative path</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="waitOnSafeMode(org.apache.hadoop.conf.Configuration, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitOnSafeMode</h4>
<pre>public static&nbsp;void&nbsp;waitOnSafeMode(org.apache.hadoop.conf.Configuration&nbsp;conf,
                  long&nbsp;wait)
                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">If DFS, check safe mode and if so, wait until we clear it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - configuration</dd><dd><code>wait</code> - Sleep between retries</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="getPath(org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPath</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getPath(org.apache.hadoop.fs.Path&nbsp;p)</pre>
<div class="block">Return the 'path' component of a Path.  In Hadoop, Path is an URI.  This
 method returns the 'path' component of a Path's URI: e.g. If a Path is
 <code>hdfs://example.org:9000/hbase_trunk/TestTable/compaction.dir</code>,
 this method returns <code>/hbase_trunk/TestTable/compaction.dir</code>.
 This method is useful if you want to print out a Path without qualifying
 Filesystem instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>p</code> - Filesystem Path whose 'path' component we are to return.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Path portion of the Filesystem</dd></dl>
</li>
</ul>
<a name="getRootDir(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootDir</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.Path&nbsp;getRootDir(org.apache.hadoop.conf.Configuration&nbsp;c)
                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>c</code> - configuration</dd>
<dt><span class="strong">Returns:</span></dt><dd>Path to hbase root directory: i.e. <code>hbase.rootdir</code> from
 configuration as a qualified Path.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="setRootDir(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRootDir</h4>
<pre>public static&nbsp;void&nbsp;setRootDir(org.apache.hadoop.conf.Configuration&nbsp;c,
              org.apache.hadoop.fs.Path&nbsp;root)
                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="setFsDefault(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFsDefault</h4>
<pre>public static&nbsp;void&nbsp;setFsDefault(org.apache.hadoop.conf.Configuration&nbsp;c,
                org.apache.hadoop.fs.Path&nbsp;root)
                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="metaRegionExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>metaRegionExists</h4>
<pre>public static&nbsp;boolean&nbsp;metaRegionExists(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                       org.apache.hadoop.fs.Path&nbsp;rootdir)
                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Checks if meta region exists</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - file system</dd><dd><code>rootdir</code> - root directory of HBase installation</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if exists</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="computeHDFSBlocksDistribution(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.FileStatus, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeHDFSBlocksDistribution</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/HDFSBlocksDistribution.html" title="class in org.apache.hadoop.hbase">HDFSBlocksDistribution</a>&nbsp;computeHDFSBlocksDistribution(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                   org.apache.hadoop.fs.FileStatus&nbsp;status,
                                                   long&nbsp;start,
                                                   long&nbsp;length)
                                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Compute HDFS blocks distribution of a given file, or a portion of the file</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - file system</dd><dd><code>status</code> - file status of the file</dd><dd><code>start</code> - start position of the portion</dd><dd><code>length</code> - length of the portion</dd>
<dt><span class="strong">Returns:</span></dt><dd>The HDFS blocks distribution</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isMajorCompacted(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMajorCompacted</h4>
<pre>public static&nbsp;boolean&nbsp;isMajorCompacted(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                       org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)
                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Runs through the hbase rootdir and checks all stores have only
 one file in them -- that is, they've been major compacted.  Looks
 at root and meta tables too.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem</dd><dd><code>hbaseRootDir</code> - hbase root directory</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if this hbase install is major compacted.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="getTotalTableFragmentation(org.apache.hadoop.hbase.master.HMaster)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalTableFragmentation</h4>
<pre>public static&nbsp;int&nbsp;getTotalTableFragmentation(<a href="../../../../../org/apache/hadoop/hbase/master/HMaster.html" title="class in org.apache.hadoop.hbase.master">HMaster</a>&nbsp;master)
                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the total overall fragmentation percentage. Includes hbase:meta and
 -ROOT- as well.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>master</code> - The master defining the HBase root and file system.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A map for each table and its percentage.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - When scanning the directory fails.</dd></dl>
</li>
</ul>
<a name="getTableFragmentation(org.apache.hadoop.hbase.master.HMaster)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableFragmentation</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;&nbsp;getTableFragmentation(<a href="../../../../../org/apache/hadoop/hbase/master/HMaster.html" title="class in org.apache.hadoop.hbase.master">HMaster</a>&nbsp;master)
                                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Runs through the HBase rootdir and checks how many stores for each table
 have more than one file in them. Checks -ROOT- and hbase:meta too. The total
 percentage across all tables is stored under the special key "-TOTAL-".</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>master</code> - The master defining the HBase root and file system.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A map for each table and its percentage.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - When scanning the directory fails.</dd></dl>
</li>
</ul>
<a name="getTableFragmentation(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableFragmentation</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;&nbsp;getTableFragmentation(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                        org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)
                                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Runs through the HBase rootdir and checks how many stores for each table
 have more than one file in them. Checks -ROOT- and hbase:meta too. The total
 percentage across all tables is stored under the special key "-TOTAL-".</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - The file system to use.</dd><dd><code>hbaseRootDir</code> - The root directory to scan.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A map for each table and its percentage.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - When scanning the directory fails.</dd></dl>
</li>
</ul>
<a name="isPre020FileLayout(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPre020FileLayout</h4>
<pre>public static&nbsp;boolean&nbsp;isPre020FileLayout(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                         org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)
                                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Expects to find -ROOT- directory.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem</dd><dd><code>hbaseRootDir</code> - hbase root directory</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if this a pre020 layout.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="isMajorCompactedPre020(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMajorCompactedPre020</h4>
<pre>public static&nbsp;boolean&nbsp;isMajorCompactedPre020(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                             org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)
                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Runs through the hbase rootdir and checks all stores have only
 one file in them -- that is, they've been major compacted.  Looks
 at root and meta tables too.  This version differs from
 <a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.html#isMajorCompacted(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)"><code>isMajorCompacted(FileSystem, Path)</code></a> in that it expects a
 pre-0.20.0 hbase layout on the filesystem.  Used migrating.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem</dd><dd><code>hbaseRootDir</code> - hbase root directory</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if this hbase install is major compacted.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - e</dd></dl>
</li>
</ul>
<a name="getTableDir(org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableDir</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.Path&nbsp;getTableDir(org.apache.hadoop.fs.Path&nbsp;rootdir,
                                    <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)</pre>
<div class="block">Returns the <code>Path</code> object representing the table directory under
 path rootdir</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rootdir</code> - qualified path of HBase root directory</dd><dd><code>tableName</code> - name of table</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>Path</code> for table</dd></dl>
</li>
</ul>
<a name="getTableName(org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableName</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;getTableName(org.apache.hadoop.fs.Path&nbsp;tablePath)</pre>
<div class="block">Returns the <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase"><code>TableName</code></a> object representing
 the table directory under
 path rootdir</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tablePath</code> - path of table</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>Path</code> for table</dd></dl>
</li>
</ul>
<a name="getNamespaceDir(org.apache.hadoop.fs.Path, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNamespaceDir</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.Path&nbsp;getNamespaceDir(org.apache.hadoop.fs.Path&nbsp;rootdir,
                                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;namespace)</pre>
<div class="block">Returns the <code>Path</code> object representing
 the namespace directory under path rootdir</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rootdir</code> - qualified path of HBase root directory</dd><dd><code>namespace</code> - namespace name</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>Path</code> for table</dd></dl>
</li>
</ul>
<a name="isAppendSupported(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAppendSupported</h4>
<pre>public static&nbsp;boolean&nbsp;isAppendSupported(org.apache.hadoop.conf.Configuration&nbsp;conf)</pre>
<div class="block">Heuristic to determine whether is safe or not to open a file for append
 Looks both for dfs.support.append and use reflection to search
 for SequenceFile.Writer.syncFs() or FSDataOutputStream.hflush()</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>True if append support</dd></dl>
</li>
</ul>
<a name="isHDFS(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isHDFS</h4>
<pre>public static&nbsp;boolean&nbsp;isHDFS(org.apache.hadoop.conf.Configuration&nbsp;conf)
                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>True if this filesystem whose scheme is 'hdfs'.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="recoverFileLease(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.util.CancelableProgressable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverFileLease</h4>
<pre>public abstract&nbsp;void&nbsp;recoverFileLease(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                    org.apache.hadoop.fs.Path&nbsp;p,
                    org.apache.hadoop.conf.Configuration&nbsp;conf,
                    <a href="../../../../../org/apache/hadoop/hbase/util/CancelableProgressable.html" title="interface in org.apache.hadoop.hbase.util">CancelableProgressable</a>&nbsp;reporter)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Recover file lease. Used when a file might be suspect
 to be had been left open by another process.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - FileSystem handle</dd><dd><code>p</code> - Path of file to recover lease</dd><dd><code>conf</code> - Configuration handle</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getTableDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableDirs</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;getTableDirs(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                           org.apache.hadoop.fs.Path&nbsp;rootdir)
                                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getLocalTableDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalTableDirs</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;getLocalTableDirs(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                org.apache.hadoop.fs.Path&nbsp;rootdir)
                                                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - </dd><dd><code>rootdir</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>All the table directories under <code>rootdir</code>. Ignore non table hbase folders such as
 .logs, .oldlogs, .corrupt folders.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isRecoveredEdits(org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRecoveredEdits</h4>
<pre>public static&nbsp;boolean&nbsp;isRecoveredEdits(org.apache.hadoop.fs.Path&nbsp;path)</pre>
<div class="block">Checks if the given path is the one with 'recovered.edits' dir.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>True if recovered edits.</dd></dl>
</li>
</ul>
<a name="getRegionDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionDirs</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;getRegionDirs(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                            org.apache.hadoop.fs.Path&nbsp;tableDir)
                                                     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Given a particular table dir, return all the regiondirs inside it, excluding files such as
 .tableinfo</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - A file system for the Path</dd><dd><code>tableDir</code> - Path to a specific table directory <hbase.rootdir>/<tabledir></dd>
<dt><span class="strong">Returns:</span></dt><dd>List of paths to valid region directories in table dir.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getFamilyDirs(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFamilyDirs</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;getFamilyDirs(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                            org.apache.hadoop.fs.Path&nbsp;regionDir)
                                                     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Given a particular region dir, return all the familydirs inside it</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - A file system for the Path</dd><dd><code>regionDir</code> - Path to a specific region directory</dd>
<dt><span class="strong">Returns:</span></dt><dd>List of paths to valid family directories in region dir.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getCurrentFileSystem(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentFileSystem</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.FileSystem&nbsp;getCurrentFileSystem(org.apache.hadoop.conf.Configuration&nbsp;conf)
                                                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the filesystem of the hbase rootdir.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getTableStoreFilePathMap(java.util.Map, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.hbase.TableName)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableStoreFilePathMap</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.apache.hadoop.fs.Path&gt;&nbsp;getTableStoreFilePathMap(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.apache.hadoop.fs.Path&gt;&nbsp;map,
                                                             org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                             org.apache.hadoop.fs.Path&nbsp;hbaseRootDir,
                                                             <a href="../../../../../org/apache/hadoop/hbase/TableName.html" title="class in org.apache.hadoop.hbase">TableName</a>&nbsp;tableName)
                                                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Runs through the HBase rootdir/tablename and creates a reverse lookup map for
 table StoreFile names to the full Path.
 <br>
 Example...<br>
 Key = 3944417774205889744  <br>
 Value = hdfs://localhost:51169/user/userid/-ROOT-/70236052/info/3944417774205889744</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>map</code> - map to add values.  If null, this method will create and populate one to return</dd><dd><code>fs</code> - The file system to use.</dd><dd><code>hbaseRootDir</code> - The root directory to scan.</dd><dd><code>tableName</code> - name of the table to scan.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Map keyed by StoreFile name with a value of the full Path.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - When scanning the directory fails.</dd></dl>
</li>
</ul>
<a name="getTableStoreFilePathMap(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableStoreFilePathMap</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.apache.hadoop.fs.Path&gt;&nbsp;getTableStoreFilePathMap(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                             org.apache.hadoop.fs.Path&nbsp;hbaseRootDir)
                                                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Runs through the HBase rootdir and creates a reverse lookup map for
 table StoreFile names to the full Path.
 <br>
 Example...<br>
 Key = 3944417774205889744  <br>
 Value = hdfs://localhost:51169/user/userid/-ROOT-/70236052/info/3944417774205889744</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - The file system to use.</dd><dd><code>hbaseRootDir</code> - The root directory to scan.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Map keyed by StoreFile name with a value of the full Path.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - When scanning the directory fails.</dd></dl>
</li>
</ul>
<a name="listStatus(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.PathFilter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listStatus</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.FileStatus[]&nbsp;listStatus(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                           org.apache.hadoop.fs.Path&nbsp;dir,
                                           org.apache.hadoop.fs.PathFilter&nbsp;filter)
                                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Calls fs.listStatus() and treats FileNotFoundException as non-fatal
 This accommodates differences between hadoop versions, where hadoop 1
 does not throw a FileNotFoundException, and return an empty FileStatus[]
 while Hadoop 2 will throw FileNotFoundException.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - file system</dd><dd><code>dir</code> - directory</dd><dd><code>filter</code> - path filter</dd>
<dt><span class="strong">Returns:</span></dt><dd>null if dir is empty or doesn't exist, otherwise FileStatus array</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="listStatus(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listStatus</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.FileStatus[]&nbsp;listStatus(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                           org.apache.hadoop.fs.Path&nbsp;dir)
                                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Calls fs.listStatus() and treats FileNotFoundException as non-fatal
 This would accommodates differences between hadoop versions</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - file system</dd><dd><code>dir</code> - directory</dd>
<dt><span class="strong">Returns:</span></dt><dd>null if dir is empty or doesn't exist, otherwise FileStatus array</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="delete(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public static&nbsp;boolean&nbsp;delete(org.apache.hadoop.fs.FileSystem&nbsp;fs,
             org.apache.hadoop.fs.Path&nbsp;path,
             boolean&nbsp;recursive)
                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Calls fs.delete() and returns the value returned by the fs.delete()</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - </dd><dd><code>path</code> - </dd><dd><code>recursive</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>the value returned by the fs.delete()</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isExists(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExists</h4>
<pre>public static&nbsp;boolean&nbsp;isExists(org.apache.hadoop.fs.FileSystem&nbsp;fs,
               org.apache.hadoop.fs.Path&nbsp;path)
                        throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Calls fs.exists(). Checks if the specified path exists</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - </dd><dd><code>path</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>the value returned by fs.exists()</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="checkAccess(org.apache.hadoop.security.UserGroupInformation, org.apache.hadoop.fs.FileStatus, org.apache.hadoop.fs.permission.FsAction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkAccess</h4>
<pre>public static&nbsp;void&nbsp;checkAccess(org.apache.hadoop.security.UserGroupInformation&nbsp;ugi,
               org.apache.hadoop.fs.FileStatus&nbsp;file,
               org.apache.hadoop.fs.permission.FsAction&nbsp;action)
                        throws org.apache.hadoop.security.AccessControlException</pre>
<div class="block">Throw an exception if an action is not permitted by a user on a file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ugi</code> - the user</dd><dd><code>file</code> - the file</dd><dd><code>action</code> - the action</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code></dd></dl>
</li>
</ul>
<a name="logFileSystemState(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.commons.logging.Log)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logFileSystemState</h4>
<pre>public static&nbsp;void&nbsp;logFileSystemState(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                      org.apache.hadoop.fs.Path&nbsp;root,
                      org.apache.commons.logging.Log&nbsp;LOG)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Log the current state of the filesystem from a certain root directory</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem to investigate</dd><dd><code>root</code> - root file/directory to start logging from</dd><dd><code>LOG</code> - log to output information</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an unexpected exception occurs</dd></dl>
</li>
</ul>
<a name="renameAndSetModifyTime(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renameAndSetModifyTime</h4>
<pre>public static&nbsp;boolean&nbsp;renameAndSetModifyTime(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                             org.apache.hadoop.fs.Path&nbsp;src,
                             org.apache.hadoop.fs.Path&nbsp;dest)
                                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getRegionDegreeLocalityMappingFromFS(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionDegreeLocalityMappingFromFS</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang">Float</a>&gt;&gt;&nbsp;getRegionDegreeLocalityMappingFromFS(org.apache.hadoop.conf.Configuration&nbsp;conf)
                                                                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This function is to scan the root path of the file system to get the
 degree of locality for each region on each of the servers having at least
 one block of that region.
 This is used by the tool <a href="../../../../../org/apache/hadoop/hbase/master/RegionPlacementMaintainer.html" title="class in org.apache.hadoop.hbase.master"><code>RegionPlacementMaintainer</code></a></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - the configuration to use</dd>
<dt><span class="strong">Returns:</span></dt><dd>the mapping from region encoded name to a map of server names to
           locality fraction</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case of file system errors or interrupts</dd></dl>
</li>
</ul>
<a name="getRegionDegreeLocalityMappingFromFS(org.apache.hadoop.conf.Configuration, java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionDegreeLocalityMappingFromFS</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang">Float</a>&gt;&gt;&nbsp;getRegionDegreeLocalityMappingFromFS(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                                                 <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;desiredTable,
                                                                 int&nbsp;threadPoolSize)
                                                                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This function is to scan the root path of the file system to get the
 degree of locality for each region on each of the servers having at least
 one block of that region.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - the configuration to use</dd><dd><code>desiredTable</code> - the table you wish to scan locality for</dd><dd><code>threadPoolSize</code> - the thread pool size to use</dd>
<dt><span class="strong">Returns:</span></dt><dd>the mapping from region encoded name to a map of server names to
           locality fraction</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - in case of file system errors or interrupts</dd></dl>
</li>
</ul>
<a name="setupShortCircuitRead(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupShortCircuitRead</h4>
<pre>public static&nbsp;void&nbsp;setupShortCircuitRead(org.apache.hadoop.conf.Configuration&nbsp;conf)</pre>
<div class="block">Do our short circuit read setup.
 Checks buffer size to use and whether to do checksumming in hbase or hdfs.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - </dd></dl>
</li>
</ul>
<a name="checkShortCircuitReadBufferSize(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkShortCircuitReadBufferSize</h4>
<pre>public static&nbsp;void&nbsp;checkShortCircuitReadBufferSize(org.apache.hadoop.conf.Configuration&nbsp;conf)</pre>
<div class="block">Check if short circuit read buffer size is set and if not, set it to hbase value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FSUtils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/util/FSTableDescriptors.html" title="class in org.apache.hadoop.hbase.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/util/FSUtils.BlackListDirFilter.html" title="class in org.apache.hadoop.hbase.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/util/FSUtils.html" target="_top">Frames</a></li>
<li><a href="FSUtils.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.cloudera.com">Cloudera</a>. All rights reserved.</small></p>
</body>
</html>
