From fbf35dddf1cb7ec09108f774f0c70dfd12136155 Mon Sep 17 00:00:00 2001
From: Elliott Neil Clark <eclark@apache.org>
Date: Tue, 31 Dec 2013 21:35:40 +0000
Subject: [PATCH 05/86] HBASE-10260 Canary Doesn't pick up Configuration properly.

git-svn-id: https://svn.apache.org/repos/asf/hbase/branches/0.96@1554572 13f79535-47bb-0310-9956-ffa450edef68

Reason: Bug
Author: Elliott Clark
Ref: CDH-16481
---
 .../java/org/apache/hadoop/hbase/tool/Canary.java  |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java
index eb536a3..21be8bf 100644
--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java
@@ -35,6 +35,7 @@ import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
 import org.apache.hadoop.conf.Configuration;
 import org.apache.hadoop.hbase.DoNotRetryIOException;
+import org.apache.hadoop.hbase.HBaseConfiguration;
 import org.apache.hadoop.hbase.HColumnDescriptor;
 import org.apache.hadoop.hbase.HRegionInfo;
 import org.apache.hadoop.hbase.HTableDescriptor;
@@ -737,7 +738,7 @@ public final class Canary implements Tool {
   }
 
   public static void main(String[] args) throws Exception {
-    int exitCode = ToolRunner.run(new Canary(), args);
+    int exitCode = ToolRunner.run(HBaseConfiguration.create(), new Canary(), args);
     System.exit(exitCode);
   }
 }
-- 
1.7.0.4

