<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Mon Jul 18 08:23:44 PDT 2011 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
ZKAssign (HBase 0.90.3-cdh3u1 API)
</TITLE>

<META NAME="date" CONTENT="2011-07-18">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ZKAssign (HBase 0.90.3-cdh3u1 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ZKAssign.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/RootRegionTracker.html" title="class in org.apache.hadoop.hbase.zookeeper"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKConfig.html" title="class in org.apache.hadoop.hbase.zookeeper"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/hadoop/hbase/zookeeper/ZKAssign.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ZKAssign.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.hadoop.hbase.zookeeper</FONT>
<BR>
Class ZKAssign</H2>
<PRE>
<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.hadoop.hbase.zookeeper.ZKAssign</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ZKAssign</B><DT>extends <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
Utility class for doing region assignment in ZooKeeper.  This class extends
 stuff done in <A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKUtil.html" title="class in org.apache.hadoop.hbase.zookeeper"><CODE>ZKUtil</CODE></A> to cover specific assignment operations.
 <p>
 Contains only static methods and constants.
 <p>
 Used by both the Master and RegionServer.
 <p>
 All valid transitions outlined below:
 <p>
 <b>MASTER</b>
 <ol>
   <li>
     Master creates an unassigned node as OFFLINE.
     - Cluster startup and table enabling.
   </li>
   <li>
     Master forces an existing unassigned node to OFFLINE.
     - RegionServer failure.
     - Allows transitions from all states to OFFLINE.
   </li>
   <li>
     Master deletes an unassigned node that was in a OPENED state.
     - Normal region transitions.  Besides cluster startup, no other deletions
     of unassigned nodes is allowed.
   </li>
   <li>
     Master deletes all unassigned nodes regardless of state.
     - Cluster startup before any assignment happens.
   </li>
 </ol>
 <p>
 <b>REGIONSERVER</b>
 <ol>
   <li>
     RegionServer creates an unassigned node as CLOSING.
     - All region closes will do this in response to a CLOSE RPC from Master.
     - A node can never be transitioned to CLOSING, only created.
   </li>
   <li>
     RegionServer transitions an unassigned node from CLOSING to CLOSED.
     - Normal region closes.  CAS operation.
   </li>
   <li>
     RegionServer transitions an unassigned node from OFFLINE to OPENING.
     - All region opens will do this in response to an OPEN RPC from the Master.
     - Normal region opens.  CAS operation.
   </li>
   <li>
     RegionServer transitions an unassigned node from OPENING to OPENED.
     - Normal region opens.  CAS operation.
   </li>
 </ol>
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#ZKAssign()">ZKAssign</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#asyncCreateNodeOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, org.apache.zookeeper.AsyncCallback.StringCallback, java.lang.Object)">asyncCreateNodeOffline</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                       <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                       <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                       org.apache.zookeeper.AsyncCallback.StringCallback&nbsp;cb,
                       <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;ctx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates an unassigned node in the OFFLINE state for the specified region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#blockUntilNoRIT(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)">blockUntilNoRIT</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Blocks until there are no node in regions in transition.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#blockUntilRIT(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)">blockUntilRIT</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Blocks until there is at least one node in regions in transition.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#createNodeClosing(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String)">createNodeClosing</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                  <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                  <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new unassigned node in the CLOSING state for the specified
 region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#createNodeOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String)">createNodeOffline</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                  <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                  <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new unassigned node in the OFFLINE state for the specified region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#createNodeOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, org.apache.hadoop.hbase.executor.EventHandler.EventType)">createNodeOffline</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                  <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                  <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                  <A HREF="../../../../../org/apache/hadoop/hbase/executor/EventHandler.EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventHandler.EventType</A>&nbsp;event)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#createOrForceNodeOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String)">createOrForceNodeOffline</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                         <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                         <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates or force updates an unassigned node to the OFFLINE state for the
 specified region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#deleteAllNodes(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)">deleteAllNodes</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes all unassigned nodes regardless of their state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#deleteClosedNode(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)">deleteClosedNode</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                 <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;regionName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes an existing unassigned node that is in the CLOSED state for the
 specified region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#deleteClosingNode(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo)">deleteClosingNode</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                  <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes an existing unassigned node that is in the CLOSING state for the
 specified region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#deleteNodeFailSilent(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo)">deleteNodeFailSilent</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;watcher,
                     <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;regionInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete the assignment node regardless of its current state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#deleteOfflineNode(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)">deleteOfflineNode</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                  <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;regionName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes an existing unassigned node that is in the OFFLINE state for the
 specified region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#deleteOpenedNode(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)">deleteOpenedNode</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                 <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;regionName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes an existing unassigned node that is in the OPENED state for the
 specified region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#forceNodeOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String)">forceNodeOffline</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                 <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                 <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Forces an existing unassigned node to the OFFLINE state for the specified
 region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/executor/RegionTransitionData.html" title="class in org.apache.hadoop.hbase.executor">RegionTransitionData</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#getData(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)">getData</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
        <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;pathOrRegionName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the current data in the unassigned node for the specified region name
 or fully-qualified path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/executor/RegionTransitionData.html" title="class in org.apache.hadoop.hbase.executor">RegionTransitionData</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#getDataNoWatch(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String, org.apache.zookeeper.data.Stat)">getDataNoWatch</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
               <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;pathOrRegionName,
               org.apache.zookeeper.data.Stat&nbsp;stat)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the current data in the unassigned node for the specified region name
 or fully-qualified path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#getNodeName(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)">getNodeName</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
            <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;regionName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the full path node name for the unassigned node for the specified
 region.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#getRegionName(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)">getRegionName</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
              <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the region name from the full path node name of an unassigned node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#retransitionNodeOpening(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, int)">retransitionNodeOpening</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                        <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                        <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                        int&nbsp;expectedVersion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retransitions an existing unassigned node for the specified region which is
 currently in the OPENING state to be in the OPENING state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#transitionNode(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, org.apache.hadoop.hbase.executor.EventHandler.EventType, org.apache.hadoop.hbase.executor.EventHandler.EventType, int)">transitionNode</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
               <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
               <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
               <A HREF="../../../../../org/apache/hadoop/hbase/executor/EventHandler.EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventHandler.EventType</A>&nbsp;beginState,
               <A HREF="../../../../../org/apache/hadoop/hbase/executor/EventHandler.EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventHandler.EventType</A>&nbsp;endState,
               int&nbsp;expectedVersion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Private method that actually performs unassigned node transitions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#transitionNodeClosed(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, int)">transitionNodeClosed</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                     <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                     <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                     int&nbsp;expectedVersion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transitions an existing unassigned node for the specified region which is
 currently in the CLOSING state to be in the CLOSED state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#transitionNodeOpened(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, int)">transitionNodeOpened</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                     <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                     <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                     int&nbsp;expectedVersion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transitions an existing unassigned node for the specified region which is
 currently in the OPENING state to be in the OPENED state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#transitionNodeOpening(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String)">transitionNodeOpening</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                      <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                      <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transitions an existing unassigned node for the specified region which is
 currently in the OFFLINE state to be in the OPENING state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#transitionNodeOpening(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, org.apache.hadoop.hbase.executor.EventHandler.EventType)">transitionNodeOpening</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                      <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                      <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                      <A HREF="../../../../../org/apache/hadoop/hbase/executor/EventHandler.EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventHandler.EventType</A>&nbsp;beginState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKAssign.html#verifyRegionState(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.executor.EventHandler.EventType)">verifyRegionState</A></B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                  <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                  <A HREF="../../../../../org/apache/hadoop/hbase/executor/EventHandler.EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventHandler.EventType</A>&nbsp;expectedState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verifies that the specified region is in the specified state in ZooKeeper.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ZKAssign()"><!-- --></A><H3>
ZKAssign</H3>
<PRE>
public <B>ZKAssign</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getNodeName(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)"><!-- --></A><H3>
getNodeName</H3>
<PRE>
public static <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getNodeName</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                 <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;regionName)</PRE>
<DL>
<DD>Gets the full path node name for the unassigned node for the specified
 region.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>regionName</CODE> - region name
<DT><B>Returns:</B><DD>full path node name</DL>
</DD>
</DL>
<HR>

<A NAME="getRegionName(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)"><!-- --></A><H3>
getRegionName</H3>
<PRE>
public static <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getRegionName</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                   <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;path)</PRE>
<DL>
<DD>Gets the region name from the full path node name of an unassigned node.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>path</CODE> - full zk path
<DT><B>Returns:</B><DD>region name</DL>
</DD>
</DL>
<HR>

<A NAME="createNodeOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String)"><!-- --></A><H3>
createNodeOffline</H3>
<PRE>
public static void <B>createNodeOffline</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                     <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                     <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName)
                              throws org.apache.zookeeper.KeeperException,
                                     org.apache.zookeeper.KeeperException.NodeExistsException</PRE>
<DL>
<DD>Creates a new unassigned node in the OFFLINE state for the specified region.

 <p>Does not transition nodes from other states.  If a node already exists
 for this region, a <CODE>KeeperException.NodeExistsException</CODE> will be thrown.

 <p>Sets a watcher on the unassigned region node if the method is successful.

 <p>This method should only be used during cluster startup and the enabling
 of a table.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>region</CODE> - region to be created as offline<DD><CODE>serverName</CODE> - server event originates from
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception
<DD><CODE>KeeperException.NodeExistsException</CODE> - if node already exists</DL>
</DD>
</DL>
<HR>

<A NAME="createNodeOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, org.apache.hadoop.hbase.executor.EventHandler.EventType)"><!-- --></A><H3>
createNodeOffline</H3>
<PRE>
public static void <B>createNodeOffline</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                     <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                     <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                                     <A HREF="../../../../../org/apache/hadoop/hbase/executor/EventHandler.EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventHandler.EventType</A>&nbsp;event)
                              throws org.apache.zookeeper.KeeperException,
                                     org.apache.zookeeper.KeeperException.NodeExistsException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE>
<DD><CODE>org.apache.zookeeper.KeeperException.NodeExistsException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="asyncCreateNodeOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, org.apache.zookeeper.AsyncCallback.StringCallback, java.lang.Object)"><!-- --></A><H3>
asyncCreateNodeOffline</H3>
<PRE>
public static void <B>asyncCreateNodeOffline</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                          <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                          <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                                          org.apache.zookeeper.AsyncCallback.StringCallback&nbsp;cb,
                                          <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;ctx)
                                   throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Creates an unassigned node in the OFFLINE state for the specified region.
 <p>
 Runs asynchronously.  Depends on no pre-existing znode.

 <p>Sets a watcher on the unassigned region node.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>region</CODE> - region to be created as offline<DD><CODE>serverName</CODE> - server event originates from<DD><CODE>cb</CODE> - <DD><CODE>ctx</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception
<DD><CODE>KeeperException.NodeExistsException</CODE> - if node already exists</DL>
</DD>
</DL>
<HR>

<A NAME="forceNodeOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String)"><!-- --></A><H3>
forceNodeOffline</H3>
<PRE>
public static void <B>forceNodeOffline</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                    <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                    <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName)
                             throws org.apache.zookeeper.KeeperException,
                                    org.apache.zookeeper.KeeperException.NoNodeException</PRE>
<DL>
<DD>Forces an existing unassigned node to the OFFLINE state for the specified
 region.

 <p>Does not create a new node.  If a node does not already exist for this
 region, a <CODE>KeeperException.NoNodeException</CODE> will be thrown.

 <p>Sets a watcher on the unassigned region node if the method is
 successful.

 <p>This method should only be used during recovery of regionserver failure.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>region</CODE> - region to be forced as offline<DD><CODE>serverName</CODE> - server event originates from
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception
<DD><CODE>KeeperException.NoNodeException</CODE> - if node does not exist</DL>
</DD>
</DL>
<HR>

<A NAME="createOrForceNodeOffline(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String)"><!-- --></A><H3>
createOrForceNodeOffline</H3>
<PRE>
public static boolean <B>createOrForceNodeOffline</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                               <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                               <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName)
                                        throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Creates or force updates an unassigned node to the OFFLINE state for the
 specified region.
 <p>
 Attempts to create the node but if it exists will force it to transition to
 and OFFLINE state.

 <p>Sets a watcher on the unassigned region node if the method is
 successful.

 <p>This method should be used when assigning a region.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>region</CODE> - region to be created as offline<DD><CODE>serverName</CODE> - server event originates from
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception
<DD><CODE>KeeperException.NodeExistsException</CODE> - if node already exists</DL>
</DD>
</DL>
<HR>

<A NAME="deleteOpenedNode(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)"><!-- --></A><H3>
deleteOpenedNode</H3>
<PRE>
public static boolean <B>deleteOpenedNode</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                       <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;regionName)
                                throws org.apache.zookeeper.KeeperException,
                                       org.apache.zookeeper.KeeperException.NoNodeException</PRE>
<DL>
<DD>Deletes an existing unassigned node that is in the OPENED state for the
 specified region.

 <p>If a node does not already exist for this region, a
 <CODE>KeeperException.NoNodeException</CODE> will be thrown.

 <p>No watcher is set whether this succeeds or not.

 <p>Returns false if the node was not in the proper state but did exist.

 <p>This method is used during normal region transitions when a region
 finishes successfully opening.  This is the Master acknowledging completion
 of the specified regions transition.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>regionName</CODE> - opened region to be deleted from zk
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception
<DD><CODE>KeeperException.NoNodeException</CODE> - if node does not exist</DL>
</DD>
</DL>
<HR>

<A NAME="deleteOfflineNode(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)"><!-- --></A><H3>
deleteOfflineNode</H3>
<PRE>
public static boolean <B>deleteOfflineNode</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                        <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;regionName)
                                 throws org.apache.zookeeper.KeeperException,
                                        org.apache.zookeeper.KeeperException.NoNodeException</PRE>
<DL>
<DD>Deletes an existing unassigned node that is in the OFFLINE state for the
 specified region.

 <p>If a node does not already exist for this region, a
 <CODE>KeeperException.NoNodeException</CODE> will be thrown.

 <p>No watcher is set whether this succeeds or not.

 <p>Returns false if the node was not in the proper state but did exist.

 <p>This method is used during master failover when the regions on an RS
 that has died are all set to OFFLINE before being processed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>regionName</CODE> - closed region to be deleted from zk
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception
<DD><CODE>KeeperException.NoNodeException</CODE> - if node does not exist</DL>
</DD>
</DL>
<HR>

<A NAME="deleteClosedNode(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)"><!-- --></A><H3>
deleteClosedNode</H3>
<PRE>
public static boolean <B>deleteClosedNode</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                       <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;regionName)
                                throws org.apache.zookeeper.KeeperException,
                                       org.apache.zookeeper.KeeperException.NoNodeException</PRE>
<DL>
<DD>Deletes an existing unassigned node that is in the CLOSED state for the
 specified region.

 <p>If a node does not already exist for this region, a
 <CODE>KeeperException.NoNodeException</CODE> will be thrown.

 <p>No watcher is set whether this succeeds or not.

 <p>Returns false if the node was not in the proper state but did exist.

 <p>This method is used during table disables when a region finishes
 successfully closing.  This is the Master acknowledging completion
 of the specified regions transition to being closed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>regionName</CODE> - closed region to be deleted from zk
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception
<DD><CODE>KeeperException.NoNodeException</CODE> - if node does not exist</DL>
</DD>
</DL>
<HR>

<A NAME="deleteClosingNode(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo)"><!-- --></A><H3>
deleteClosingNode</H3>
<PRE>
public static boolean <B>deleteClosingNode</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                        <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region)
                                 throws org.apache.zookeeper.KeeperException,
                                        org.apache.zookeeper.KeeperException.NoNodeException</PRE>
<DL>
<DD>Deletes an existing unassigned node that is in the CLOSING state for the
 specified region.

 <p>If a node does not already exist for this region, a
 <CODE>KeeperException.NoNodeException</CODE> will be thrown.

 <p>No watcher is set whether this succeeds or not.

 <p>Returns false if the node was not in the proper state but did exist.

 <p>This method is used during table disables when a region finishes
 successfully closing.  This is the Master acknowledging completion
 of the specified regions transition to being closed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>region</CODE> - closing region to be deleted from zk
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception
<DD><CODE>KeeperException.NoNodeException</CODE> - if node does not exist</DL>
</DD>
</DL>
<HR>

<A NAME="deleteAllNodes(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)"><!-- --></A><H3>
deleteAllNodes</H3>
<PRE>
public static void <B>deleteAllNodes</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw)
                           throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Deletes all unassigned nodes regardless of their state.

 <p>No watchers are set.

 <p>This method is used by the Master during cluster startup to clear out
 any existing state from other cluster runs.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception</DL>
</DD>
</DL>
<HR>

<A NAME="createNodeClosing(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String)"><!-- --></A><H3>
createNodeClosing</H3>
<PRE>
public static int <B>createNodeClosing</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                    <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                    <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName)
                             throws org.apache.zookeeper.KeeperException,
                                    org.apache.zookeeper.KeeperException.NodeExistsException</PRE>
<DL>
<DD>Creates a new unassigned node in the CLOSING state for the specified
 region.

 <p>Does not transition nodes from any states.  If a node already exists
 for this region, a <CODE>KeeperException.NodeExistsException</CODE> will be thrown.

 <p>If creation is successful, returns the version number of the CLOSING
 node created.

 <p>Does not set any watches.

 <p>This method should only be used by a RegionServer when initiating a
 close of a region after receiving a CLOSE RPC from the Master.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>region</CODE> - region to be created as closing<DD><CODE>serverName</CODE> - server event originates from
<DT><B>Returns:</B><DD>version of node after transition, -1 if unsuccessful transition
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception
<DD><CODE>KeeperException.NodeExistsException</CODE> - if node already exists</DL>
</DD>
</DL>
<HR>

<A NAME="transitionNodeClosed(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, int)"><!-- --></A><H3>
transitionNodeClosed</H3>
<PRE>
public static int <B>transitionNodeClosed</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                       <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                       <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                                       int&nbsp;expectedVersion)
                                throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Transitions an existing unassigned node for the specified region which is
 currently in the CLOSING state to be in the CLOSED state.

 <p>Does not transition nodes from other states.  If for some reason the
 node could not be transitioned, the method returns -1.  If the transition
 is successful, the version of the node after transition is returned.

 <p>This method can fail and return false for three different reasons:
 <ul><li>Unassigned node for this region does not exist</li>
 <li>Unassigned node for this region is not in CLOSING state</li>
 <li>After verifying CLOSING state, update fails because of wrong version
 (someone else already transitioned the node)</li>
 </ul>

 <p>Does not set any watches.

 <p>This method should only be used by a RegionServer when initiating a
 close of a region after receiving a CLOSE RPC from the Master.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>region</CODE> - region to be transitioned to closed<DD><CODE>serverName</CODE> - server event originates from
<DT><B>Returns:</B><DD>version of node after transition, -1 if unsuccessful transition
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception</DL>
</DD>
</DL>
<HR>

<A NAME="transitionNodeOpening(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String)"><!-- --></A><H3>
transitionNodeOpening</H3>
<PRE>
public static int <B>transitionNodeOpening</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                        <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                        <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName)
                                 throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Transitions an existing unassigned node for the specified region which is
 currently in the OFFLINE state to be in the OPENING state.

 <p>Does not transition nodes from other states.  If for some reason the
 node could not be transitioned, the method returns -1.  If the transition
 is successful, the version of the node written as OPENING is returned.

 <p>This method can fail and return -1 for three different reasons:
 <ul><li>Unassigned node for this region does not exist</li>
 <li>Unassigned node for this region is not in OFFLINE state</li>
 <li>After verifying OFFLINE state, update fails because of wrong version
 (someone else already transitioned the node)</li>
 </ul>

 <p>Does not set any watches.

 <p>This method should only be used by a RegionServer when initiating an
 open of a region after receiving an OPEN RPC from the Master.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>region</CODE> - region to be transitioned to opening<DD><CODE>serverName</CODE> - server event originates from
<DT><B>Returns:</B><DD>version of node after transition, -1 if unsuccessful transition
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception</DL>
</DD>
</DL>
<HR>

<A NAME="transitionNodeOpening(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, org.apache.hadoop.hbase.executor.EventHandler.EventType)"><!-- --></A><H3>
transitionNodeOpening</H3>
<PRE>
public static int <B>transitionNodeOpening</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                        <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                        <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                                        <A HREF="../../../../../org/apache/hadoop/hbase/executor/EventHandler.EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventHandler.EventType</A>&nbsp;beginState)
                                 throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="retransitionNodeOpening(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, int)"><!-- --></A><H3>
retransitionNodeOpening</H3>
<PRE>
public static int <B>retransitionNodeOpening</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                          <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                          <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                                          int&nbsp;expectedVersion)
                                   throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Retransitions an existing unassigned node for the specified region which is
 currently in the OPENING state to be in the OPENING state.

 <p>Does not transition nodes from other states.  If for some reason the
 node could not be transitioned, the method returns -1.  If the transition
 is successful, the version of the node rewritten as OPENING is returned.

 <p>This method can fail and return -1 for three different reasons:
 <ul><li>Unassigned node for this region does not exist</li>
 <li>Unassigned node for this region is not in OPENING state</li>
 <li>After verifying OPENING state, update fails because of wrong version
 (someone else already transitioned the node)</li>
 </ul>

 <p>Does not set any watches.

 <p>This method should only be used by a RegionServer when initiating an
 open of a region after receiving an OPEN RPC from the Master.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>region</CODE> - region to be transitioned to opening<DD><CODE>serverName</CODE> - server event originates from
<DT><B>Returns:</B><DD>version of node after transition, -1 if unsuccessful transition
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception</DL>
</DD>
</DL>
<HR>

<A NAME="transitionNodeOpened(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, int)"><!-- --></A><H3>
transitionNodeOpened</H3>
<PRE>
public static int <B>transitionNodeOpened</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                       <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                       <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                                       int&nbsp;expectedVersion)
                                throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Transitions an existing unassigned node for the specified region which is
 currently in the OPENING state to be in the OPENED state.

 <p>Does not transition nodes from other states.  If for some reason the
 node could not be transitioned, the method returns -1.  If the transition
 is successful, the version of the node after transition is returned.

 <p>This method can fail and return false for three different reasons:
 <ul><li>Unassigned node for this region does not exist</li>
 <li>Unassigned node for this region is not in OPENING state</li>
 <li>After verifying OPENING state, update fails because of wrong version
 (this should never actually happen since an RS only does this transition
 following a transition to OPENING.  if two RS are conflicting, one would
 fail the original transition to OPENING and not this transition)</li>
 </ul>

 <p>Does not set any watches.

 <p>This method should only be used by a RegionServer when completing the
 open of a region.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>region</CODE> - region to be transitioned to opened<DD><CODE>serverName</CODE> - server event originates from
<DT><B>Returns:</B><DD>version of node after transition, -1 if unsuccessful transition
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception</DL>
</DD>
</DL>
<HR>

<A NAME="transitionNode(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, java.lang.String, org.apache.hadoop.hbase.executor.EventHandler.EventType, org.apache.hadoop.hbase.executor.EventHandler.EventType, int)"><!-- --></A><H3>
transitionNode</H3>
<PRE>
public static int <B>transitionNode</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                 <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                 <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serverName,
                                 <A HREF="../../../../../org/apache/hadoop/hbase/executor/EventHandler.EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventHandler.EventType</A>&nbsp;beginState,
                                 <A HREF="../../../../../org/apache/hadoop/hbase/executor/EventHandler.EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventHandler.EventType</A>&nbsp;endState,
                                 int&nbsp;expectedVersion)
                          throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Private method that actually performs unassigned node transitions.

 <p>Attempts to transition the unassigned node for the specified region
 from the expected state to the state in the specified transition data.

 <p>Method first reads existing data and verifies it is in the expected
 state.  If the node does not exist or the node is not in the expected
 state, the method returns -1.  If the transition is successful, the
 version number of the node following the transition is returned.

 <p>If the read state is what is expected, it attempts to write the new
 state and data into the node.  When doing this, it includes the expected
 version (determined when the existing state was verified) to ensure that
 only one transition is successful.  If there is a version mismatch, the
 method returns -1.

 <p>If the write is successful, no watch is set and the method returns true.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>region</CODE> - region to be transitioned to opened<DD><CODE>serverName</CODE> - server event originates from<DD><CODE>endState</CODE> - state to transition node to if all checks pass<DD><CODE>beginState</CODE> - state the node must currently be in to do transition<DD><CODE>expectedVersion</CODE> - expected version of data before modification, or -1
<DT><B>Returns:</B><DD>version of node after transition, -1 if unsuccessful transition
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception</DL>
</DD>
</DL>
<HR>

<A NAME="getData(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)"><!-- --></A><H3>
getData</H3>
<PRE>
public static <A HREF="../../../../../org/apache/hadoop/hbase/executor/RegionTransitionData.html" title="class in org.apache.hadoop.hbase.executor">RegionTransitionData</A> <B>getData</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                           <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;pathOrRegionName)
                                    throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Gets the current data in the unassigned node for the specified region name
 or fully-qualified path.

 <p>Returns null if the region does not currently have a node.

 <p>Sets a watch on the node if the node exists.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>pathOrRegionName</CODE> - fully-specified path or region name
<DT><B>Returns:</B><DD>data for the unassigned node
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception</DL>
</DD>
</DL>
<HR>

<A NAME="getDataNoWatch(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String, org.apache.zookeeper.data.Stat)"><!-- --></A><H3>
getDataNoWatch</H3>
<PRE>
public static <A HREF="../../../../../org/apache/hadoop/hbase/executor/RegionTransitionData.html" title="class in org.apache.hadoop.hbase.executor">RegionTransitionData</A> <B>getDataNoWatch</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                                  <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;pathOrRegionName,
                                                  org.apache.zookeeper.data.Stat&nbsp;stat)
                                           throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Gets the current data in the unassigned node for the specified region name
 or fully-qualified path.

 <p>Returns null if the region does not currently have a node.

 <p>Does not set a watch.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference<DD><CODE>pathOrRegionName</CODE> - fully-specified path or region name<DD><CODE>stat</CODE> - object to store node info into on getData call
<DT><B>Returns:</B><DD>data for the unassigned node or null if node does not exist
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE> - if unexpected zookeeper exception</DL>
</DD>
</DL>
<HR>

<A NAME="deleteNodeFailSilent(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo)"><!-- --></A><H3>
deleteNodeFailSilent</H3>
<PRE>
public static void <B>deleteNodeFailSilent</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;watcher,
                                        <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;regionInfo)
                                 throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Delete the assignment node regardless of its current state.
 <p>
 Fail silent even if the node does not exist at all.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>watcher</CODE> - <DD><CODE>regionInfo</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="blockUntilNoRIT(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)"><!-- --></A><H3>
blockUntilNoRIT</H3>
<PRE>
public static void <B>blockUntilNoRIT</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw)
                            throws org.apache.zookeeper.KeeperException,
                                   <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</A></PRE>
<DL>
<DD>Blocks until there are no node in regions in transition.
 <p>
 Used in testing only.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="blockUntilRIT(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)"><!-- --></A><H3>
blockUntilRIT</H3>
<PRE>
public static void <B>blockUntilRIT</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw)
                          throws org.apache.zookeeper.KeeperException,
                                 <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</A></PRE>
<DL>
<DD>Blocks until there is at least one node in regions in transition.
 <p>
 Used in testing only.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - zk reference
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="verifyRegionState(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.executor.EventHandler.EventType)"><!-- --></A><H3>
verifyRegionState</H3>
<PRE>
public static boolean <B>verifyRegionState</B>(<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</A>&nbsp;zkw,
                                        <A HREF="../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</A>&nbsp;region,
                                        <A HREF="../../../../../org/apache/hadoop/hbase/executor/EventHandler.EventType.html" title="enum in org.apache.hadoop.hbase.executor">EventHandler.EventType</A>&nbsp;expectedState)
                                 throws org.apache.zookeeper.KeeperException</PRE>
<DL>
<DD>Verifies that the specified region is in the specified state in ZooKeeper.
 <p>
 Returns true if region is in transition and in the specified state in
 ZooKeeper.  Returns false if the region does not exist in ZK or is in
 a different state.
 <p>
 Method synchronizes() with ZK so will yield an up-to-date result but is
 a slow read.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>zkw</CODE> - <DD><CODE>region</CODE> - <DD><CODE>expectedState</CODE> - 
<DT><B>Returns:</B><DD>true if region exists and is in expected state
<DT><B>Throws:</B>
<DD><CODE>org.apache.zookeeper.KeeperException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ZKAssign.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/RootRegionTracker.html" title="class in org.apache.hadoop.hbase.zookeeper"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/apache/hadoop/hbase/zookeeper/ZKConfig.html" title="class in org.apache.hadoop.hbase.zookeeper"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/apache/hadoop/hbase/zookeeper/ZKAssign.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ZKAssign.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2011 <a href="http://www.cloudera.com">Cloudera</a>. All Rights Reserved.
</BODY>
</HTML>
